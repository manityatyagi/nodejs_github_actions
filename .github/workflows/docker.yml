name: Docker Image Workflow

on: 
    workflow_dispatch:
      
jobs: 
    build: 
       runs-on: ubuntu-latest

       steps:
           - name: Checkout repo
             uses: actions/checkout@v4

           - name: Setup Node.js
             uses: actions/setup-node@v3
             with: 
              node-version: "20"
          
           - name: Docker Image build
             run: |
              docker build -t my-image -f Dockerfile ../..
           
           - name: Login to DockerHub
             uses: docker/login-action@v2
             with: 
                username: ${{ secrets.DOCKER_USERNAME }}
                password: ${{ secrets.DOCKER_PASSWORD }}  
          
           - name: Push Docker Image
             run: |
              docker push my-image
            